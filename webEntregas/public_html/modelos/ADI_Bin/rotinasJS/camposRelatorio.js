<!-- /ADI_Intranet_Root/ADI_Programacao/ADI_Bin/rotinasJS/camposRelatorio.js -->/** * Função que retorna uma string com os filtros utilizados no formulario passado como parâmetro. * Parâmetros: * formulário (document.nomeForm) * boolean (Irá imprimir combos com a opção "Todos" selecionada?) * boolean (Irá imprimir campos de texto com valor "0"?) */function montarFiltrosString( formulario, imprimeCboTodos, imprimeTextoZero ) {    var filtros = "";    //varre os elementos do formulario    for(b = 0; b < formulario.elements.length; b++) {        // if > se tipo elemento for text e valor for diferente de branco e imprimeTextoZero for igual a true ou diferente de zero.        if( formulario.elements[b].type == 'text'            && formulario.elements[b].value != ''            && (imprimeTextoZero == true || formulario.elements[b].value != '0') )        {            //filtros += >  se filtros for igual a zero coloca branco senao soma com barra + se o label nao tiver definido coloca branco senao coloca o label com o valor do elemento            filtros += (filtros.length == 0 ? "" : " / ") + (formulario.elements[b].getAttribute("label") == "undefined" ? "" : formulario.elements[b].getAttribute("label") + ": ") + formulario.elements[b].value + ""        //else if > se elemento for combo e option selecionado for diferente de zero        //e imprimeCboTodos for igual a true ou option selecionado for diferente de todos        //e option selecionado for diferente de todas        } else if( formulario.elements[b].type == 'select-one'                   && formulario.elements[b].options[formulario.elements[b].selectedIndex].text != '-- Selecione um(a)'                   && (imprimeCboTodos == true || (formulario.elements[b].options[formulario.elements[b].selectedIndex].text != 'Todos'                   && formulario.elements[b].options[formulario.elements[b].selectedIndex].text != 'Todas') ))        {            // filtro += > se filtros for igual a zero coloca branco senao soma com barra + se o label nao tiver definido coloca branco senao coloca o label com o valor do elemento            filtros += (filtros.length == 0 ? "" : " / ") + (formulario.elements[b].getAttribute("label") == "undefined" ? "" : formulario.elements[b].getAttribute("label") + ": ") + formulario.elements[b].options[formulario.elements[b].selectedIndex].text + ""        // else if > se tipo elemento for radio e estiver checado        } else if( formulario.elements[b].type == 'radio' && formulario.elements[b].checked == true ) {                        // se filtros for igual a zero coloca branco senao coloca barra.            if(filtros.length == 0) {               filtros += "";            } else {                filtros += " / ";            }           if(formulario.elements[b].getAttribute("labelOption") == "undefined") {                filtros += "";            } else {               // se elemente checado for igual a 1 junta o label do componente ao label do radio checado               filtros += formulario.elements[b].getAttribute("label") + ": " + formulario.elements[b].getAttribute("labelOption") + "" ;            }          }        //Quando for combo de multipla seleção        else if( formulario.elements[b].type == 'select-multiple')        {               var aux = "";                              for (i = 0; i < formulario.elements[b].length; i++)                {                   if (formulario.elements[b].options[i].selected && formulario.elements[b].options[i].text != 'Todos')                   {                        aux += formulario.elements[b].options[i].text + ", ";                                           }                   }                              if(aux.length > 1)                 aux = aux.substring(0, aux.length - 2);                              // filtro += > se filtros for igual a zero coloca branco senao soma com barra + se o label nao tiver definido coloca branco senao coloca o label com o valor do elemento               if(aux.length > 1)                    filtros += (filtros.length == 0 ? "" : " / ") + (formulario.elements[b].getAttribute("label") == "undefined" ? "" : formulario.elements[b].getAttribute("label") + ": ") + aux + ""        }    }    if(filtros.length == 0) {        filtros = "Nenhum filtro utilizado.";    }    return filtros;}/*            if (document.forms[0])            {                            }                                if(campo.options[0].selected)                    campo.options[0].text;*/