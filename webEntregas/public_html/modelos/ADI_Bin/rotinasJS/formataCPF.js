// <!-- /ADI_Intranet_Root/ADI_Programacao/ADI_Bin/rotinasJS/formataCPF.js -->/** * Função que cria uma mascara para CPF * @version 1.0 29/06/2002 * @author Diego Ribeiro Drumond * @param campo Campo do CPF (this) * @param teclapress Tecla pressionada (event) *  * $Revision: 1.4 $ * $Author: joaog $ * $Date: 2013/05/28 15:59:18 $   *///----------------------------Váriavel para tipo de browser-----------------------------------var tipoBrowser    = navigator.appName;var versaoBrowser  = navigator.appVersion;var evento_KeyCode = "";function formataCPF(campo,pTeclaPres){    var vr,tam,campoIndex,campoAux,campoAux2,campoAux3;    if(pTeclaPres !== null)    {        //Se for o Mozzila, Chrome        if (pTeclaPres.which)         {                    evento_KeyCode = pTeclaPres.which;            } else         {            //Se for o IE            evento_KeyCode = pTeclaPres.keyCode;            }  		        tecla   = eval( evento_KeyCode );    }else        {            tecla = "";        }  vr = campo.value;  tam = vr.length;  if (tecla > 47  && tecla < 58){	if (tam === 3) {		campo.value = vr.substr(0,3) + '.';	}	else if (tam === 6){		campoIndex= vr.indexOf(".");		if (campoIndex < 0) {			campo.value = "";		}	}	else if (tam === 7){		campoAux  = vr.indexOf(".");		if (campoAux === 0){			campo.value = "";		}		else {			campo.value =  vr.substr(0,7)+'.';		}	}	else if (tam === 11){		campoIndex = vr.indexOf("-");		if (campoIndex <= 0){			campo.value =  vr.substr(0,11)+'-';		}   	}	else if (tam === 12){		campoIndex= vr.indexOf(".");		if (campoIndex < 0){			campoAux =vr.substr(0,3);			campoAux2 =vr.substr(3,3);			campoAux3 =vr.substr(6,12);			campo.value = campoAux + "." + campoAux2 + "." + campoAux3;		}	 	}	else if (tam === 13){		campoIndex = vr.indexOf("-");		if (campoIndex > 0){			campoAux = vr.substr(3,10);		}		else{			campoAux = vr.substr(0,11);			campoAux2 = vr.substr(11,13);			campo.value = campoAux + "-" + campoAux2;		}		campoIndex = vr.indexOf(".");		if (campoIndex > 5){				campoAux = vr.substr(3,13);			campo.value = vr.substr(0,3) + "." + campoAux;  		}		else if (campoIndex === 3){			campoAux = vr.substr(0,4);			campoAux2 = vr.substr(4,13);			campoIndex = campoAux2.indexOf(".");			if (campoIndex < 0){				campoAux2 = vr.substr(4,3);				campoAux3 = vr.substr(7,11);				campo.value = campoAux + campoAux2 + "." + campoAux3;			}		}			}	else if(tam > 13){		evento_KeyCode = null;	}  }  else {	evento_KeyCode = null;  }}